<!DOCTYPE html>
<html lang="en">
<head>
  <title>Máira Senna</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>

  <style>
    .mobile-menu {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      width: 16rem;
      background: white;
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 50;
    }

    .mobile-menu.open {
      transform: translateX(0);
    }

    .menu-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-in-out;
      z-index: 40;
    }

    .menu-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    @media (min-width: 768px) {
      .mobile-menu, .menu-overlay {
        display: none;
      }
    }
  </style>
</head>
<body class="bg-gradient-to-b from-gray-50 to-gray-100 text-gray-900 min-h-screen flex flex-col">
  <!-- Navbar -->
  <nav class="fixed w-full bg-white shadow-md z-30">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- Logo -->
        <a href="/" class="flex-shrink-0 font-bold text-lg text-blue-600 hover:text-blue-700">
          Máira Senna
        </a>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center space-x-4 lg:space-x-6">
          <a href="#about" class="px-3 py-2 text-gray-600 hover:text-blue-600 transition">About</a>
          <a href="#skills" class="px-3 py-2 text-gray-600 hover:text-blue-600 transition">Skills</a>
          <a href="#portfolio" class="px-3 py-2 text-gray-600 hover:text-blue-600 transition">Portfolio</a>
          <a href="#contact" class="px-3 py-2 text-gray-600 hover:text-blue-600 transition">Contact</a>
        </div>

        <!-- Mobile Menu Button -->
        <button
          id="menu-btn"
          class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-100 focus:outline-none"
          aria-label="Open menu"
        >
          <svg
            class="h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16m-7 6h7"
            />
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div id="menu-overlay" class="menu-overlay"></div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="mobile-menu">
    <!-- Close Button -->
    <button
      id="close-menu-btn"
      class="absolute top-4 right-4 p-2 text-gray-600 hover:text-blue-600 focus:outline-none"
      aria-label="Close menu"
    >
      <svg
        class="h-6 w-6"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>

    <!-- Menu Items -->
    <nav class="mt-16 px-4">
      <div class="flex flex-col space-y-3">
        <a href="#about" class="block py-3 px-4 text-lg font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded-lg transition-colors">About</a>
        <a href="#skills" class="block py-3 px-4 text-lg font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded-lg transition-colors">Skills</a>
        <a href="#portfolio" class="block py-3 px-4 text-lg font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded-lg transition-colors">Portfolio</a>
        <a href="#contact" class="block py-3 px-4 text-lg font-medium text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded-lg transition-colors">Contact</a>
      </div>
    </nav>
  </div>

  <!-- Main Content -->
  <main class="flex-grow pt-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <%= yield %>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center">
      <p class="text-sm sm:text-base">&copy; <%= Date.today.year %> Máira Senna. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const menuBtn = document.getElementById('menu-btn');
      const closeBtn = document.getElementById('close-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const menuOverlay = document.getElementById('menu-overlay');
      let isMenuOpen = false;

      function toggleMenu() {
        isMenuOpen = !isMenuOpen;
        mobileMenu.classList.toggle('open', isMenuOpen);
        menuOverlay.classList.toggle('open', isMenuOpen);
        document.body.style.overflow = isMenuOpen ? 'hidden' : '';
      }

      // Toggle menu on menu button click
      menuBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleMenu();
      });

      // Close menu on close button click
      closeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        if (isMenuOpen) toggleMenu();
      });

      // Close menu on overlay click
      menuOverlay.addEventListener('click', () => {
        if (isMenuOpen) toggleMenu();
      });

      // Close menu when clicking menu links
      const menuLinks = mobileMenu.getElementsByTagName('a');
      Array.from(menuLinks).forEach(link => {
        link.addEventListener('click', () => {
          if (isMenuOpen) toggleMenu();
        });
      });

      // Close menu on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && isMenuOpen) {
          toggleMenu();
        }
      });

      // Close menu on window resize
      window.addEventListener('resize', () => {
        if (window.innerWidth >= 768 && isMenuOpen) {
          toggleMenu();
        }
      });

      // Prevent clicks inside menu from bubbling
      mobileMenu.addEventListener('click', (e) => {
        e.stopPropagation();
      });
    });
  </script>
</body>
</html>
